# Story 4.12: Size URL State

## Epic
Epic 4: Design & UI Refresh

## User Story

Jako uživatel
Chci, aby se velikost hry ukládala do URL
Abych si mohl vytvořit favorit odkaz se svým oblíbeným nastavením

## Description

Rozšíření URL hash state pro zahrnuti parametru `size`. Aktuálně máme jen `obstacles`, teď přidáme `size`.

### URL Examples
- `https://game.com/#size=3` - 3×3 bez bomb
- `https://game.com/#size=10&obstacles=yes` - 10×10 s bombami
- `https://game.com/#size=15` - 15×15 bez bomb (default)

## Acceptance Criteria

1. **AC1:** URL hash obsahuje `size` parametr (3, 10, 15)
2. **AC2:** Při načtení se obnoví size z URL
3. **AC3:** Změna size selectu změní URL
4. **AC4:** Back/forward button funguje
5. **AC5:** Default je `size=15` pokud není v URL
6. **AC6:** Všechny testy procházejí

## Files Changed

### Modified Files
- `src/game.js` - getGameStateFromHash(), setGameStateHash(), hashchange listener

## Technical Notes

### URL Hash Parsing
```javascript
getGameStateFromHash() {
  const hash = window.location.hash.slice(1);
  const params = new URLSearchParams(hash);
  return {
    size: parseInt(params.get('size')) || 15,
    obstacles: params.get('obstacles') === 'yes'
  };
}

setGameStateHash(size, obstacles) {
  const hash = `size=${size}&obstacles=${obstacles ? 'yes' : 'no'}`;
  window.location.hash = hash;
}
```

### Size Select Event Listener
```javascript
this.gameSizeSelect.addEventListener('change', (e) => {
    const size = parseInt(e.target.value);
    const obstacles = this.obstaclesSelect.value === 'yes';
    this.setGameStateHash(size, obstacles);
    // Re-init game with new size
});
```

## Priority
High

## Effort
S (30-45 minutes)
