# Story 4.8: Obstacles Responsiveness - Bomb Size Fix

## Epic
Epic 4: Design & UI Refresh

## User Story

Jako u≈æivatel hraj√≠c√≠ s p≈ôek√°≈ækami
Chci, aby bomby mƒõly spr√°vnou velikost na v≈°ech za≈ô√≠zen√≠ch
Abych mƒõl konzistentn√≠ a ƒçiteln√Ω z√°≈æitek na mobilech, tabletech i desktopu

## Description

Oprawa responsivity bomb (`üí£`). Aktu√°lnƒõ:
- Bomby maj√≠ hardcoded `font-size: 1.5rem` (neresponsivn√≠!)
- Na mobilech (360px) jsou p≈ô√≠li≈° velk√©
- Na desktopu jsou p≈ô√≠li≈° mal√© v porovn√°n√≠ s ostatn√≠m textem
- Nemaj√≠ nastaenu ≈°√≠≈ôku/v√Ω≈°ku explicitnƒõ

≈òe≈°en√≠:
- Odebrat hardcoded `font-size: 1.5rem`
- Nechat bomby dƒõd√≠t `font-size` z `.cell` (1.2rem default)
- P≈ôidat media queries pro responsive font-size na v≈°ech breakpointech
- Bomby budou proporcion√°ln√≠ s X a O na ka≈æd√©m breakpointu

## Tasks

- [ ] Vytvo≈ôit story dokument
- [ ] Odebrat hardcoded `font-size: 1.5rem` z `.cell.obstacle`
- [ ] P≈ôidat media queries pro responsive bomb sizes
- [ ] Vytvo≈ôit testy pro bomb responsiveness
- [ ] Testovat na mobile (360px), tablet (768px), desktop (1440px)

## Acceptance Criteria

1. **AC1:** Bomby dƒõd√≠ `font-size` z `.cell` na desktop (1.2rem)
2. **AC2:** Bomby jsou proporcion√°ln√≠ na v≈°ech breakpointech
3. **AC3:** Mobile (360px): bomby maj√≠ spr√°vnou velikost (ne p≈ô√≠li≈° velk√©)
4. **AC4:** Tablet (768px): bomby jsou ƒçiteln√© a proporcion√°ln√≠
5. **AC5:** Desktop (1440px): bomby odpov√≠daj√≠ velikosti X a O
6. **AC6:** Nov√© testy projdou - kontroluj√≠ bomb styling
7. **AC7:** V≈°echny testy proch√°zej√≠ (111+)
8. **AC8:** Build je √∫spƒõ≈°n√Ω

## Test Plan

### Visual Testing
- [ ] Mobile (360px) - otev≈ô√≠t s p≈ôek√°≈ækami, bomby nejsou p≈ô√≠li≈° velk√©
- [ ] Tablet (768px) - bomby jsou proporcion√°ln√≠ s gridw
- [ ] Desktop (1440px) - bomby odpov√≠daj√≠ X/O velikosti

### Automated Testing
- [ ] Test: `.cell.obstacle` bez hardcoded font-size
- [ ] Test: `.cell.obstacle` m√° spr√°vn√Ω computed font-size na mobile
- [ ] Test: `.cell.obstacle` m√° spr√°vn√Ω computed font-size na desktop
- [ ] Test: Bomby a X/O jsou proporcion√°ln√≠

## Files Changed

### Modified Files
- `src/styles.css` - Upravit `.cell.obstacle` CSS + p≈ôidat media queries
- `src/game.integration.test.js` - P≈ôidat testy pro bomb responsiveness

## Technical Notes

### Current CSS (PROBL√âM)
```css
.cell {
    font-size: 1.2rem;      /* Default */
}

.cell.obstacle {
    font-size: 1.5rem;      /* HARDCODED - BUG! */
    display: flex;
    justify-content: center;
    align-items: center;
}
```

### Fixed CSS
```css
.cell {
    font-size: 1.2rem;
}

.cell.obstacle {
    /* Bez hardcoded font-size - dƒõd√≠ z .cell */
    display: flex;
    justify-content: center;
    align-items: center;
    background: #4a5a6e;
    color: white;
    cursor: not-allowed;
}

@media (max-width: 767px) {
    .cell {
        font-size: 0.875rem;
    }
    /* .cell.obstacle automaticky zdƒõd√≠ 0.875rem */
}

@media (max-width: 359px) {
    .cell {
        font-size: 0.75rem;
    }
    /* .cell.obstacle automaticky zdƒõd√≠ 0.75rem */
}

@media (min-width: 1024px) {
    .cell {
        font-size: 1.5rem;
    }
    /* .cell.obstacle automaticky zdƒõd√≠ 1.5rem */
}
```

### Test Examples
```javascript
it('Obstacles - bomby maj√≠ inherited font-size z .cell', () => {
    const select = document.getElementById('obstaclesSelect');
    select.value = 'yes';
    gameUI.handleReset();

    const obstacleCell = document.querySelector('.cell.obstacle');
    const computedStyle = window.getComputedStyle(obstacleCell);
    const fontSize = parseFloat(computedStyle.fontSize);

    // Na desktopu by mƒõlo b√Ωt 1.2rem = ~19.2px
    expect(fontSize).toBeGreaterThan(18);
    expect(fontSize).toBeLessThan(20);
});

it('Obstacles - bomby a X/O maj√≠ proporcion√°ln√≠ font-size', () => {
    const cellWithX = document.querySelector('[data-value="X"]');
    const obstacleCell = document.querySelector('.cell.obstacle');

    const xStyle = window.getComputedStyle(cellWithX);
    const obstacleStyle = window.getComputedStyle(obstacleCell);

    // Mƒõly by b√Ωt stejn√© nebo velmi bl√≠zk√©
    expect(xStyle.fontSize).toBe(obstacleStyle.fontSize);
});
```

## Risk Assessment

**Risk 1:** Bomby se mohou st√°t p≈ô√≠li≈° mal√Ωmi na mobilech
- **Mitigation:** Testov√°n√≠ na fyzick√Ωch za≈ô√≠zen√≠ch (360px, 768px)

**Risk 2:** Zmƒõna CSS mohou provƒõ≈ôit jin√© komponenty
- **Mitigation:** Testy zajist√≠, ≈æe se nic nerozbilo

## Definition of Done

- [ ] Story dokument naps√°n
- [ ] CSS zmƒõna implementov√°na (bez hardcoded font-size)
- [ ] Media queries upraveny pro responsive bomb sizes
- [ ] Nov√© testy vytvo≈ôeny a proch√°zej√≠
- [ ] Visually testov√°no na v≈°ech breakpointech
- [ ] V≈°echny testy proch√°zej√≠ (111+) ‚úì
- [ ] Build √∫spƒõ≈°n√Ω ‚úì
- [ ] Commit vytvo≈ôen

## Status

Draft ‚Üí In Progress ‚Üí Completed

---

**Created:** 2025-11-02
**Epic:** 4 - Design & UI Refresh
**Priority:** High
**Effort:** S (30-45 minutes)
**Depends on:** 4.7, 4.4 ‚úì
**Follow-up:** Mo≈æn√© vylep≈°en√≠ - emoji replacement pro bomby

## Implementation Details

### Why Remove Hardcoded font-size?

**Probl√©m:** Hardcoded `font-size: 1.5rem` je:
- Neresponsivn√≠ (nezmƒõn√≠ se s media queries)
- Nekonzistentn√≠ s X a O (kter√© se mƒõn√≠)
- Tƒõ≈æko udr≈æiteln√Ω (pokud zmƒõn√≠≈° `.cell` font-size, mus√≠≈° zmƒõnit i `.cell.obstacle`)

**≈òe≈°en√≠:** CSS inheritance - kdy≈æ odstran√≠≈° `font-size` z `.cell.obstacle`, automaticky zdƒõd√≠ z `.cell`, kter√© u≈æ m√° media queries.

### Responsive Font-size Hierarchy

```
360px (mobile):     0.75rem  ‚Üê bomby
768px (tablet):     0.875rem ‚Üê bomby
1024px (desktop):   1.5rem   ‚Üê bomby
1440px (large):     1.5rem   ‚Üê bomby
```

V≈°echno se nastav√≠ automaticky bez duplikov√°n√≠ CSS!

## Browser Compatibility

- ‚úì All modern browsers support CSS inheritance
- ‚úì Font-size property fully supported
- ‚úì No polyfills needed
